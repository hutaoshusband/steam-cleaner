#![windows_subsystem = "windows"]


// ++++++++++++++++++++++++++++++++++++++++++++**+++++++++++++++++++++++++++++++++++
// +++++++++++++++++++++++++++++++++++*+++++++++++++++++++++++++++++++++++++++++++++
// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// ====+==++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++=+
// ==========++++++++++++++++=+++++++++++++++++++++++++++++++++++++++++++++=+=======
// =============+======++=++++++++*###%#%%%###***+++++++++++++++++++++++===+=+======
// ==================+=======+++*%%%%########***###**+++++++++++++++================
// =========================+*#%%%%******+++++++*#####*++++++++++++=================
// ========================*#%%%%*****++++*++**==+**#***+++++++++===================
// =======================*%%%#*#***+*++=++**+***********+==+==++===================
// =+===================+*#%%#*+*#**++++==========+++++***==========================
// =====================*###**+*#*+++=====-----------==++*+=========================
// ====================+#***++**++=====---------------===++=========================
// ====================**+*+=====----====-----:::-----====++========================
// ====================**++=====---=====------::::--------==========================
// ====================*++======-----------------------:::--========================
// ====================+=--============----===---------::::--=======-===========----
// =====================---===========-====----:::------::::-=========-=======------
// ====================----======--------==-----==++=-----:--===============--------
// ====================---==+*#*##*+++=-===+**#*++====-----:--==============-=--=---
// =========================+*==+=+****+=---*##*%###=---------===-======-=-----=----    // Cleaner made by HUTAOSHUSBAND
// ====-==---==========*===+++%%*###@#++=--=##*+=====-----=--==--------------------     // Image represents Fred Doeser
// =====---=============+=+=++*+==+*#*+++=---==+**+=-----=-=+-==--------------------    // most advanced reverser and hacker of
// -======================+=====++++*++++==---=+===------===--=---=-----------------    // our time.
// --=====================+======++*#*++==--==+#*=-------===-----=------------------
// ---====================++=====+*@%++===----=+##+=--------------------------------
// -==--=-==-===-================*%#*+**+++======+#+=----=--------------------------
// ----==-=================++++++*+==++++++=-------++=------==----------------------
// -----====================+++++++++++++++=======--==------=@@*=-------------------
// ---=======================++++++++####*****++=====-------::@@@+------------------
// ===========================+++++++++++++++====-=+==--=---..:@@@@*----------------
// ===========================++++++++++++++=====--=====---....#@@@@@#=-------------
// ==========================%@*++++++++++===------=====--.....#@@@@@@@+------------
// ===================+*#%@@@@@--++++++++++===-=--==+==-:.....:@@@@@@@@@@@#=--------
// =============+@@@@@@@@@@@@@..-==++++++++++======++=-.......=@@@@@@@@@@@@@@%*-----
// ===========#@@@@@@@@@@@@@%..:-=====+++++++++======-....:.:.*@@@@@@@@@@@@@@@@@@%+-
// =========*@@@@@@@@@@@@@@%...:--+======+++======+*-.....:...@@@@@@@@@@@@@@@@@@@@@@
// ========*@@@@@@@@@@@@@@*....::-=%============+#+........:.%@@@@@@@@@@@@@@@@@@@@@@
// =======*@@@@@@@@@@@@@@@-::...::-*#======++++**-......+.=.*@@@@@@@@@@@@@@@@@@@@@@@
// ==+===+@@@@@@@@@@@@@@@@@=::....:+##+====++++=:......-=+=-@@@@@@@@@@@@@@@@@@@@@@@@
// ======%@@@@@@@@@@@@@@@@@@%-.....:*#*+======:........--=:#@@@@@@@@@@@@@@@@@@@@@@@@
// =====*@@@@@@@@@@@@@@@@@@@*.......-***++==-.:---:.......=@@@@@@@@@%%@@@@@@@@@@@@@@
// ====+@@@@@@@@@@@@@@@@@@@%........:*****=...::----:-=-..#@@@@@@@@@@@@@@@@@@@@@@@@@
// ==++#@@@@@@@@@@@@@@@@@@%..........:*##-...:::--:..:::::@@@@@@@@@@@@@@@@@@@@@@@@@@  


mod core;
mod ui;
mod i18n;

use iced::{Application, Settings};

fn main() -> iced::Result {
    #[cfg(windows)]
    {
        if !core::privileges::is_elevated() {
            core::privileges::show_admin_error_dialog();
            std::process::exit(1);
        }
    }

    let window_settings = iced::window::Settings {
        decorations: true,
        transparent: false,
        size: iced::Size::new(1300.0, 850.0),
        position: iced::window::Position::Centered,
        min_size: Some(iced::Size::new(1000.0, 700.0)),
        resizable: true,
        ..Default::default()
    };

    ui::app::CleanerApp::run(Settings {
        window: window_settings,
        ..Default::default()
    })
}
