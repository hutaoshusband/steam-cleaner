
// ++++++++++++++++++++++++++++++++++++++++++++**+++++++++++++++++++++++++++++++++++
// +++++++++++++++++++++++++++++++++++*+++++++++++++++++++++++++++++++++++++++++++++
// +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// ====+==++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++=+
// ==========++++++++++++++++=+++++++++++++++++++++++++++++++++++++++++++++=+=======
// =============+======++=++++++++*###%#%%%###***+++++++++++++++++++++++===+=+======
// ==================+=======+++*%%%%########***###**+++++++++++++++================
// =========================+*#%%%%******+++++++*#####*++++++++++++=================
// ========================*#%%%%*****++++*++**==+**#***+++++++++===================
// =======================*%%%#*#***+*++=++**+***********+==+==++===================
// =+===================+*#%%#*+*#**++++==========+++++***==========================
// =====================*###**+*#*+++=====-----------==++*+=========================
// ====================+#***++**++=====---------------===++=========================
// ====================**+*+=====----====-----:::-----====++========================
// ====================**++=====---=====------::::--------==========================
// ====================*++======-----------------------:::--========================
// ====================+=--============----===---------::::--=======-===========----
// =====================---===========-====----:::------::::-=========-=======------
// ====================----======--------==-----==++=-----:--===============--------
// ====================---==+*#*##*+++=-===+**#*++====-----:--==============-=--=---
// =========================+*==+=+****+=---*##*%###=---------===-======-=-----=----    // Cleaner made by HUTAOSHUSBAND
// ====-==---==========*===+++%%*###@#++=--=##*+=====-----=--==--------------------    // Image represents Fred.
// =====---=============+=+=++*+==+*#*+++=---==+**+=-----=-=+-==--------------------
// -======================+=====++++*++++==---=+===------===--=---=-----------------
// --=====================+======++*#*++==--==+#*=-------===-----=------------------
// ---====================++=====+*@%++===----=+##+=--------------------------------
// -==--=-==-===-================*%#*+**+++======+#+=----=--------------------------
// ----==-=================++++++*+==++++++=-------++=------==----------------------
// -----====================+++++++++++++++=======--==------=@@*=-------------------
// ---=======================++++++++####*****++=====-------::@@@+------------------
// ===========================+++++++++++++++====-=+==--=---..:@@@@*----------------
// ===========================++++++++++++++=====--=====---....#@@@@@#=-------------
// ==========================%@*++++++++++===------=====--.....#@@@@@@@+------------
// ===================+*#%@@@@@--++++++++++===-=--==+==-:.....:@@@@@@@@@@@#=--------
// =============+@@@@@@@@@@@@@..-==++++++++++======++=-.......=@@@@@@@@@@@@@@%*-----
// ===========#@@@@@@@@@@@@@%..:-=====+++++++++======-....:.:.*@@@@@@@@@@@@@@@@@@%+-
// =========*@@@@@@@@@@@@@@%...:--+======+++======+*-.....:...@@@@@@@@@@@@@@@@@@@@@@
// ========*@@@@@@@@@@@@@@*....::-=%============+#+........:.%@@@@@@@@@@@@@@@@@@@@@@
// =======*@@@@@@@@@@@@@@@-::...::-*#======++++**-......+.=.*@@@@@@@@@@@@@@@@@@@@@@@
// ==+===+@@@@@@@@@@@@@@@@@=::....:+##+====++++=:......-=+=-@@@@@@@@@@@@@@@@@@@@@@@@
// ======%@@@@@@@@@@@@@@@@@@%-.....:*#*+======:........--=:#@@@@@@@@@@@@@@@@@@@@@@@@
// =====*@@@@@@@@@@@@@@@@@@@*.......-***++==-.:---:.......=@@@@@@@@@%%@@@@@@@@@@@@@@
// ====+@@@@@@@@@@@@@@@@@@@%........:*****=...::----:-=-..#@@@@@@@@@@@@@@@@@@@@@@@@@
// ==++#@@@@@@@@@@@@@@@@@@%..........:*##-...:::--:..:::::@@@@@@@@@@@@@@@@@@@@@@@@@@  



// src/main.rs
#![windows_subsystem = "windows"]

mod core;
mod ui;

use iced::{Application, Settings};

fn main() -> iced::Result {
    #[cfg(windows)]
    {
        if !core::privileges::is_elevated() {
            core::privileges::show_admin_error_dialog();
            std::process::exit(1);
        }
    }

    // Configure window settings
    let window_settings = iced::window::Settings {
        decorations: true,  // Use native title bar for resizing/controls
        transparent: false,   // Opaque background with native decorations
        size: iced::Size::new(1200.0, 800.0), // Larger start size
        position: iced::window::Position::Centered,
        min_size: Some(iced::Size::new(900.0, 600.0)),
        resizable: true,      // Allow resizing
        ..Default::default()
    };

    ui::app::CleanerApp::run(Settings {
        window: window_settings,
        ..Default::default()
    })
}
